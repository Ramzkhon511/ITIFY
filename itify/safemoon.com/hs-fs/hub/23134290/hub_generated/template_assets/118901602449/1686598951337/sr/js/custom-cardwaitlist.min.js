document.addEventListener("DOMContentLoaded",(function(){const btnArrow=document.querySelector(".Banner_btnArrow__kZzMB"),btnMain=document.querySelector(".btnMain"),introCardMiddle=document.querySelector(".IntroCard_middle__KaGLr"),customWaitListFormContainer=document.querySelector("#custom-cardwaitlist-form"),thankyouMessaheContainer=document.querySelector("#thank-you-message");if(btnArrow&&btnArrow.addEventListener("click",(function(event){event.preventDefault();const introCardSection=document.querySelector("#intro-card-section");if(introCardSection){const offset=50,topPos=introCardSection.getBoundingClientRect().top+window.pageYOffset-offset;window.scrollTo({top:topPos,behavior:"smooth"})}})),btnMain&&btnMain.addEventListener("click",(function(event){event.preventDefault();const formSection=document.querySelector("#custom-cardwaitlist-form");if(formSection){const offset=50,topPos=formSection.getBoundingClientRect().top+window.pageYOffset-offset;window.scrollTo({top:topPos,behavior:"smooth"})}})),introCardMiddle){new IntersectionObserver((function(entries,observer){entries.forEach((function(entry){entry.isIntersecting&&(introCardMiddle.dispatchEvent(new Event("mouseover")),observer.unobserve(entry.target))}))})).observe(introCardMiddle)}$(".row-number-8").prepend('<div class="register-bg-1"><img src="https://23134290.fs1.hubspotusercontent-na1.net/hubfs/23134290/cardwaitlist/reigster-bg-1.png" alt="register-bg-2"></div>'),$(".row-number-8").prepend('<div class="register-bg-2"><img src="https://23134290.fs1.hubspotusercontent-na1.net/hubfs/23134290/cardwaitlist/register-bg-2.png" alt="register-bg-2"></div>');let widgetId;function submitForm(){grecaptcha.execute(widgetId).then((function(response){document.getElementById("recaptchaResponse").value=response,function(){const formData={firstName:document.getElementById("firstname").value,lastName:document.getElementById("lastname").value,email:document.getElementById("email").value,country:document.getElementById("country_location").value,featureInterest:document.getElementById("safemoon_card_features_request").value,lookingForward:document.getElementById("safemoon_card_reason").value,termConditionAgreement:!0,marketingOpt:document.getElementById("marketing_opt_in").checked,note:"string",captchaToken:document.getElementById("recaptchaResponse").value};console.log(formData),fetch("https://marketdata.safemoon.com/api/card/register-listing",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(formData)}).then((function(response){response.ok?(console.log("Form submitted successfully"),console.log(formData),customWaitListFormContainer.style.display="none",thankyouMessaheContainer.style.display="block"):(console.error("Form submission failed"),console.log(formData),console.log(response),response.json().then((data=>{const errorMessage=data.message;console.log("Error message:",errorMessage),iziToast.show({message:errorMessage,position:"topRight",progressBarColor:"#ff0000"})})).catch((error=>{console.error("Error reading response:",error)})))})).catch((function(error){console.error("Form submission failed:",error)}))}()}))}function isValidEmail(email){return/^[\w-]+(\.[\w-]+)*@[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*(\.[a-zA-Z]{2,})$/.test(email)}function insertErrorMessage(input,message){const errorElement=input.previousElementSibling;errorElement&&errorElement.classList.contains("hs-error-msgs")?errorElement.innerHTML=`<li><label class="hs-error-msg hs-main-font-element">${message}</label></li>`:input.insertAdjacentHTML("beforebegin",`<ul class="no-list hs-error-msgs inputs-list" role="alert"><li><label class="hs-error-msg hs-main-font-element">${message}</label></li></ul>`)}function removeErrorMessage(input){const errorElement=input.previousElementSibling;errorElement&&errorElement.classList.contains("hs-error-msgs")&&errorElement.remove()}function handleInputChange(input){const value=input.value.trim();"email"===input.id?isValidEmail(value)?(input.classList.remove("invalid","error"),removeErrorMessage(input)):(input.classList.add("invalid","error"),insertErrorMessage(input,"Please enter a valid email address.")):"firstname"===input.id?""===value?(input.classList.add("invalid","error"),insertErrorMessage(input,"Please complete this required field.")):(input.classList.remove("invalid","error"),removeErrorMessage(input)):(input.id,""===value?(input.classList.add("invalid","error"),insertErrorMessage(input,"Please complete this required field.")):(input.classList.remove("invalid"),removeErrorMessage(input)))}grecaptcha.ready((function(){widgetId=grecaptcha.render("recaptchaResponse",{sitekey:"6LfniO0eAAAAAAqEOthrZ95NmZ21lTJx8j8CTdX5",size:"invisible"})}));const form=document.querySelector(".hs-form");if(form){const emailInput=document.getElementById("email"),firstNameInput=document.getElementById("firstname"),lastNameInput=document.getElementById("lastname"),countrySelect=document.getElementById("country_location");countrySelect.addEventListener("change",(function(){var select;""===(select=countrySelect).value?(select.classList.add("invalid","error"),insertErrorMessage(select,"Please complete this required field.")):(select.classList.remove("invalid","error"),removeErrorMessage(select))})),emailInput.addEventListener("input",(function(){handleInputChange(emailInput)})),firstNameInput.addEventListener("input",(function(){handleInputChange(firstNameInput)})),lastNameInput.addEventListener("input",(function(){handleInputChange(lastNameInput)})),form.addEventListener("submit",(event=>{event.preventDefault();let isValidForm=!0;isValidEmail(emailInput.value)||(emailInput.classList.add("invalid"),insertErrorMessage(emailInput,"Please enter a valid email address."),isValidForm=!1),""===firstNameInput.value.trim()&&(firstNameInput.classList.add("invalid"),insertErrorMessage(firstNameInput,"Please complete this required field."),isValidForm=!1),""===lastNameInput.value.trim()&&(lastNameInput.classList.add("invalid"),insertErrorMessage(lastNameInput,"Please complete this required field."),isValidForm=!1),""===countrySelect.value&&(countrySelect.classList.add("invalid"),insertErrorMessage(countrySelect,"Please complete this required field."),isValidForm=!1),isValidForm?submitForm():iziToast.show({message:"Please fill out all the required inputs",position:"topRight",progressBarColor:"#ff0000"})}))}}));
//# sourceURL=https://cdn2.hubspot.net/hub/23134290/hub_generated/template_assets/118901602449/1686598951337/sr/js/custom-cardwaitlist.js